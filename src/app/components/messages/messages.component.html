<button
  mat-icon-button
  class="message-icon"
  [matMenuTriggerFor]="messagesMenu"
  [disabled]="messageService.messages.length === 0"
>
  <mat-icon
    *ngIf="messageService.messages.length > 0"
    matBadge="{{ messageService.messages.length }}"
    matBadgeColor="accent"
    matBadgeOverlap="false"
    aria-hidden="false"
    >mail
  </mat-icon>
  <mat-icon *ngIf="messageService.messages.length === 0" aria-hidden="false">mail</mat-icon>
</button>

<mat-menu #messagesMenu="matMenu" class="message">
  <h2 class="message__title">{{ 'message.title' | translate }}</h2>
  <button mat-raised-button color="primary" type="button" class="message__button" (click)="messageService.clear()">
    {{ 'message.clear' | translate }}
  </button>
  <div *ngIf="messageService.messages.length" class="message__content">
    <div *ngFor="let messageKey of messageService.getTranslatedMessages()" class="message__item">
      {{ messageKey | translate }}
    </div>
  </div>
</mat-menu>
